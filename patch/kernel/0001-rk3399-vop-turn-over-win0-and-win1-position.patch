From c8b7cebe8affb1bc33a5074e84c859bc37b9a723 Mon Sep 17 00:00:00 2001
From: Guochun Huang <hero.huang@rock-chips.com>
Date: Wed, 20 Dec 2017 20:49:53 +0800
Subject: [PATCH] rk3399: vop: turn over win0 and win1 position

Change-Id: Ie41a3184661610a229149b4a94289c81bbc0b9a5
Signed-off-by: Guochun Huang <hero.huang@rock-chips.com>
---
 drivers/gpu/drm/rockchip/rockchip_drm_vop.c | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

diff --git a/drivers/gpu/drm/rockchip/rockchip_drm_vop.c b/drivers/gpu/drm/rockchip/rockchip_drm_vop.c
index a274882..5e0f669 100644
--- a/drivers/gpu/drm/rockchip/rockchip_drm_vop.c
+++ b/drivers/gpu/drm/rockchip/rockchip_drm_vop.c
@@ -1645,8 +1645,14 @@ void vop_atomic_plane_reset(struct drm_plane *plane)
 	vop_plane_state = kzalloc(sizeof(*vop_plane_state), GFP_KERNEL);
 	if (!vop_plane_state)
 		return;
-
-	vop_plane_state->zpos = win->win_id;
+	if (win->win_id == 0) {
+		vop_plane_state->zpos = 1;
+	} else if (win->win_id == 1) {
+		vop_plane_state->zpos = 0;
+	} else {
+		vop_plane_state->zpos = win->win_id;
+	}
+	//vop_plane_state->zpos = win->win_id;
 	plane->state = &vop_plane_state->base;
 	plane->state->plane = plane;
 }
-- 
1.9.1

